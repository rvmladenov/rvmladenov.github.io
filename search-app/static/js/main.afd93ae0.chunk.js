(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{115:function(e,t,n){e.exports=n(147)},120:function(e,t,n){},125:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(120),n(45)),l=n(22),c=n(26),u=n(3),m=n(202),p=n(15),d=n(216),f=n(207),E=n(208),h=n(200),g=n(206),v=n(68),b=n(209),T=n(150),S=n(99),w=n.n(S),O=n(98),j=n.n(O),y=n(149),x=n(210),A=n(211),k=n(101),N=n.n(k),Q=n(195),D=n(104),L=n(201),q=n(90),C=n.n(q);function _(){var e=r.a.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],o=function(){a(null)};return r.a.createElement("div",null,r.a.createElement(Q.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},r.a.createElement(C.a,null)),r.a.createElement(D.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:o},r.a.createElement(L.a,{onClick:o},"Profile"),r.a.createElement(L.a,{onClick:o},"My account"),r.a.createElement(L.a,{onClick:o},"Logout")))}var I=n(97),M=n.n(I),P=n(203),U=(n(125),n(65)),R=n(32),B=n(91),W=n(92),z=n(105),H=n(103),G=n(66),X=n(94),J=n.n(X).a.create({baseURL:"https://search-app-391dc.firebaseio.com/"}),F={getQuestions:function(){return J.get("/questions.json")},getTemplates:function(){return J.get("/templates.json")}},V=n(148),Y=n(217),$=n(205),K=n(204),Z=n(95),ee=n.n(Z),te=Object(m.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function ne(e){var t,n=te(),a=r.a.useState(!1),o=Object(s.a)(a,2),i=o[0],l=o[1];return r.a.createElement("div",{className:n.root},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(Y.a,{expanded:"panel1"===i,onChange:(t="panel1",function(e,n){l(!!n&&t)})},r.a.createElement(K.a,{expandIcon:r.a.createElement(ee.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(v.a,{className:n.heading},e.template.name),r.a.createElement(v.a,{className:n.secondaryHeading},e.template.title||"<no title provided>")),r.a.createElement($.a,null,r.a.createElement(v.a,null,e.template.questions.toString()))))))}var ae=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),re=function(e){var t=ae(),n=r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(V.a,{className:t.paper},r.a.createElement("h3",null,"Please select templates from the list to view their data :)"))));return e.resultTemplates&&e.resultTemplates.length>0&&(n=e.resultTemplates.map((function(e){return r.a.createElement("div",{key:e.id,className:t.root},r.a.createElement(ne,{template:e}))}))),r.a.createElement("div",null,n)},oe=n(218),ie=n(212),se=n(213),le=(n(144),function(e){var t=e.templates.templates||[];return r.a.createElement(se.a,{multiple:!0,id:"theme-search-autocomplete",options:t,getOptionLabel:function(e){return e.name},renderTags:function(t,n){return t.map((function(t,a){console.log("props",e);var o=e.templates.templates.map((function(e){return e.id})).indexOf(t.id)>=0?"included-template":"not-included-template";return r.a.createElement("span",{key:t.id,className:o},r.a.createElement(oe.a,Object.assign({label:t.name},n({index:a}))))}))},onChange:function(t,n){e.onSelect(n)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Themes List",variant:"outlined"}))}})}),ce=n(67),ue=!1,me=function(e){var t=e.questions.questions||[];t.length>0&&!ue&&(t.unshift({id:-1,name:"Select All"}),ue=!0);return r.a.createElement(se.a,{multiple:!0,id:"questions-search-autocomplete",options:t,getOptionLabel:function(e){return e.name},renderTags:function(e,t){return e.map((function(e,n){return r.a.createElement(oe.a,Object.assign({label:e.name},t({index:n})))}))},onChange:function(t,n){!function(t){t&&t.length>0&&(t.filter((function(e){return-1===e.id})).length>0&&(t=Object(ce.a)(e.questions)));e.onSelect(t)}(n)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Questions List",variant:"outlined"}))}})},pe=Object.freeze({TEMPLATE:"TEMPLATE",QUESTION:"QUESTION"}),de=Object(m.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function fe(e){var t=de(),n=function(t,n){switch(t){case pe.TEMPLATE:e.onTemplatesSelect(n);break;case pe.QUESTION:e.onQuestionsSelect(n);break;default:console.log("incorrect type of an answer")}};return r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{container:!0,spacing:1},r.a.createElement(P.a,{item:!0,xs:6,sm:4},r.a.createElement(V.a,{className:t.paper},r.a.createElement(le,{templates:{templates:e.templates.templates,selectedTemplates:e.templates.selectedTemplates,questionIds:e.questions.questions.map((function(e){return e.id}))},onSelect:function(e){n(pe.TEMPLATE,e)}}))),r.a.createElement(P.a,{item:!0,xs:6,sm:4},r.a.createElement(V.a,{className:t.paper},r.a.createElement(me,{questions:{questions:e.questions.questions,selectedQuestions:e.questions.selectedQuestions},onSelect:function(e){n(pe.QUESTION,e)}})))))}n(145);var Ee=function(e){Object(z.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filteredTemplates:[],filteredQuestions:[]},e.checkExistance=function(e,t){return t.every((function(t){return e.includes(t)}))},e.onQuestionsSelect=function(t){var n=t.map((function(e){return e.id})),a=e.props.templates.filter((function(t){return e.checkExistance(t.questions,n)}));e.setState({filteredTemplates:a}),e.props.onSetSelectedQuestions(t)},e.onTemplatesSelect=function(t){console.log(t),e.props.onAddResults(t)},e.crossFilterData=function(){},e}return Object(W.a)(n,[{key:"componentDidMount",value:function(){var e=this;F.getQuestions().then((function(t){e.props.onAddQuestions(t.data),e.setState({filteredQuestions:t.data}),F.getTemplates().then((function(t){e.props.onAddTemplates(t.data),e.setState({filteredTemplates:t.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"Controls"},r.a.createElement(fe,{questions:{questions:this.state.filteredQuestions,selectedQuestions:this.props.selectedQuestions},templates:{templates:this.state.filteredTemplates,selectedTemplates:this.props.selectedTemplates},onQuestionsSelect:this.onQuestionsSelect,onTemplatesSelect:this.onTemplatesSelect})),r.a.createElement("div",{className:"Results"},r.a.createElement(re,{resultTemplates:this.props.results})))}}]),n}(a.Component),he=Object(G.b)((function(e){return{templates:e.templates.templates,questions:e.questions.questions,selectedTemplates:e.templates.selectedTemplates,selectedQuestions:e.questions.selectedQuestions,results:e.results.templates}}),(function(e){return{onAddQuestions:function(t){e(function(e){return{type:"ADD_QUESTIONS",value:e}}(t))},onAddResults:function(t){return e(function(e){return{type:"ADD_RESULT_TEMPLATE",value:e}}(t))},onAddTemplates:function(t){return e(function(e){return{type:"ADD_TEMPLATE",value:e}}(t))},onSetSelectedTemplates:function(t){return e(function(e){return{type:"SET_SELECTED_TEMPLATES",value:e}}(t))},onSetSelectedQuestions:function(t){return e({type:"ADD_SELECTED_QUESTIONS",value:t})}}}))(Ee),ge=n(214);function ve(e){return r.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var be=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(1)}}}}));function Te(){var e=be();return r.a.createElement("div",{className:e.root},r.a.createElement(ve,{severity:"info"},"You can filter templates based on selected questions"),r.a.createElement(ve,{severity:"info"},"The templates which does not include the list of selected questions but have been selected are colored in red"))}var Se=Object(m.a)((function(e){return{root:{display:"flex"},header:{paddingTop:"5rem",flexGrow:1,padding:e.spacing(3),paddingBottom:0},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(c.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),paddingTop:0},button:{color:"inherit",textDecoration:"none"}}}));function we(){var e,t,n=Se(),a=Object(p.a)(),o=r.a.useState(!1),i=Object(s.a)(o,2),l=i[0],m=i[1];return r.a.createElement("div",{className:n.root},r.a.createElement(g.a,null),r.a.createElement(f.a,{position:"fixed",className:Object(u.a)(n.appBar,Object(c.a)({},n.appBarShift,l))},r.a.createElement(E.a,null,r.a.createElement(T.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(u.a)(n.menuButton,Object(c.a)({},n.hide,l))},r.a.createElement(M.a,null)),r.a.createElement(v.a,{variant:"h6",noWrap:!0},"Theme Search App"),r.a.createElement(P.a,{direction:"row",justify:"flex-end",alignItems:"center",container:!0},r.a.createElement(P.a,{item:!0},r.a.createElement(_,null))))),r.a.createElement(d.a,{variant:"permanent",className:Object(u.a)(n.drawer,(e={},Object(c.a)(e,n.drawerOpen,l),Object(c.a)(e,n.drawerClose,!l),e)),classes:{paper:Object(u.a)((t={},Object(c.a)(t,n.drawerOpen,l),Object(c.a)(t,n.drawerClose,!l),t))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement(T.a,{onClick:function(){m(!1)}},"rtl"===a.direction?r.a.createElement(j.a,null):r.a.createElement(w.a,null))),r.a.createElement(b.a,null),r.a.createElement(h.a,null,["Home"].map((function(e,t){return r.a.createElement(U.b,{className:n.button,key:"homeLink",exact:!0,to:"/home"},r.a.createElement(y.a,{button:!0,key:e},r.a.createElement(x.a,null,r.a.createElement(N.a,null)),r.a.createElement(A.a,{primary:e})))}))),r.a.createElement(b.a,null)),r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement("header",{className:n.header},r.a.createElement(Te,null))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement("header",null,r.a.createElement("main",{className:n.content},r.a.createElement("div",null,r.a.createElement(R.d,null,r.a.createElement(R.b,{path:"/home",component:he}),r.a.createElement(R.a,{exact:!0,from:"/",to:"/home"}))))))))}var Oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ye=n(38),xe=n(102),Ae={templates:[],selectedTemplates:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TEMPLATE":return Object(l.a)({},e,{templates:t.value});case"SET_SELECTED_TEMPLATES":return Object(l.a)({},e,{selectedTemplates:t.value});default:return e}},Ne={questions:[],selectedQuestions:[]},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUESTIONS":return Object(l.a)({},e,{questions:t.value});case"ADD_SELECTED_QUESTIONS":return Object(l.a)({},e,{selectedQuestions:t.value});default:return e}},De={templates:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RESULT_TEMPLATE":return Object(l.a)({},e,{templates:t.value});default:return e}},qe=function(e){return function(t){return function(n){switch(n.type){case"ADD_QUESTIONS":case"ADD_TEMPLATE":var a=n.value.map((function(e){return e}));n.value=Object(ce.a)(a)}var r=t(n);return console.log("[Middleware] next state",e.getState()),r}}},Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,_e=Object(ye.c)({templates:ke,questions:Qe,results:Le}),Ie=Object(ye.e)(_e,Ce(Object(ye.a)(qe,xe.a)));i.a.render(r.a.createElement(G.a,{store:Ie},r.a.createElement(U.a,null,r.a.createElement(we,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):je(t,e)}))}}()}},[[115,1,2]]]);
//# sourceMappingURL=main.afd93ae0.chunk.js.map